/*
 Defines a Long class for representing a 64-bit two's-complement
 integer value, which faithfully simulates the behavior of a Java "long". This
 implementation is derived from LongLib in GWT.

 Derived from the Closure Library to be used stand-alone.
 @see http://closure-library.googlecode.com/svn/docs/closure_goog_math_long.js.source.html
*/
(function(p){function b(a,b){this.a=a|0;this.b=b|0}b.e={};b.fromInt=function(a){if(-128<=a&&128>a){var c=b.e[a];if(c)return c}c=new b(a|0,0>a?-1:0);-128<=a&&128>a&&(b.e[a]=c);return c};b.fromNumber=function(a){return isNaN(a)||!isFinite(a)?b.ZERO:a<=-b.g?b.MIN_VALUE:a+1>=b.g?b.MAX_VALUE:0>a?b.fromNumber(-a).negate():new b(a%b.c|0,a/b.c|0)};b.fromBits=function(a,c){return new b(a,c)};b.fromString=function(a,c){if(0==a.length)throw Error("number format error: empty string");var d=c||10;if(2>d||36<d)throw Error("radix out of range: "+
d);if("-"==a.charAt(0))return b.fromString(a.substring(1),d).negate();if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var g=b.fromNumber(Math.pow(d,8)),f=b.ZERO,e=0;e<a.length;e+=8){var k=Math.min(8,a.length-e),l=parseInt(a.substring(e,e+k),d);8>k?(k=b.fromNumber(Math.pow(d,k)),f=f.multiply(k).add(b.fromNumber(l))):(f=f.multiply(g),f=f.add(b.fromNumber(l)))}return f};b.d=65536;b.i=16777216;b.c=b.d*b.d;b.j=b.c/2;b.k=b.c*b.d;b.h=b.c*b.c;b.g=b.h/2;b.ZERO=b.fromInt(0);
b.ONE=b.fromInt(1);b.NEG_ONE=b.fromInt(-1);b.MAX_VALUE=b.fromBits(-1,2147483647);b.MIN_VALUE=b.fromBits(0,-2147483648);b.f=b.fromInt(16777216);b.prototype.toInt=function(){return this.a};b.prototype.toNumber=function(){return this.b*b.c+this.getLowBitsUnsigned()};b.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(b.MIN_VALUE)){var c=b.fromNumber(a),d=this.div(c),c=d.multiply(c).subtract(this);
return d.toString(a)+c.toInt().toString(a)}return"-"+this.negate().toString(a)}for(var d=b.fromNumber(Math.pow(a,6)),c=this,g="";;){var f=c.div(d),e=c.subtract(f.multiply(d)).toInt().toString(a),c=f;if(c.isZero())return e+g;for(;6>e.length;)e="0"+e;g=""+e+g}};b.prototype.getHighBits=function(){return this.b};b.prototype.getLowBits=function(){return this.a};b.prototype.getLowBitsUnsigned=function(){return 0<=this.a?this.a:b.c+this.a};b.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(b.MIN_VALUE)?
64:this.negate().getNumBitsAbs();for(var a=0!=this.b?this.b:this.a,c=31;0<c&&0==(a&1<<c);c--);return 0!=this.b?c+33:c+1};b.prototype.isZero=function(){return 0==this.b&&0==this.a};b.prototype.isNegative=function(){return 0>this.b};b.prototype.isOdd=function(){return 1==(this.a&1)};b.prototype.equals=function(a){return this.b==a.b&&this.a==a.a};b.prototype.notEquals=function(a){return this.b!=a.b||this.a!=a.a};b.prototype.lessThan=function(a){return 0>this.compare(a)};b.prototype.lessThanOrEqual=function(a){return 0>=
this.compare(a)};b.prototype.greaterThan=function(a){return 0<this.compare(a)};b.prototype.greaterThanOrEqual=function(a){return 0<=this.compare(a)};b.prototype.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),d=a.isNegative();return b&&!d?-1:!b&&d?1:this.subtract(a).isNegative()?-1:1};b.prototype.negate=function(){return this.equals(b.MIN_VALUE)?b.MIN_VALUE:this.not().add(b.ONE)};b.prototype.add=function(a){var c=this.b>>>16,d=this.b&65535,g=this.a>>>16,f=a.b>>>16,e=a.b&65535,
k=a.a>>>16,l;l=0+((this.a&65535)+(a.a&65535));a=0+(l>>>16);a+=g+k;g=0+(a>>>16);g+=d+e;d=0+(g>>>16);d=d+(c+f)&65535;return b.fromBits((a&65535)<<16|l&65535,d<<16|g&65535)};b.prototype.subtract=function(a){return this.add(a.negate())};b.prototype.multiply=function(a){if(this.isZero()||a.isZero())return b.ZERO;if(this.equals(b.MIN_VALUE))return a.isOdd()?b.MIN_VALUE:b.ZERO;if(a.equals(b.MIN_VALUE))return this.isOdd()?b.MIN_VALUE:b.ZERO;if(this.isNegative())return a.isNegative()?this.negate().multiply(a.negate()):
this.negate().multiply(a).negate();if(a.isNegative())return this.multiply(a.negate()).negate();if(this.lessThan(b.f)&&a.lessThan(b.f))return b.fromNumber(this.toNumber()*a.toNumber());var c=this.b>>>16,d=this.b&65535,g=this.a>>>16,f=this.a&65535,e=a.b>>>16,k=a.b&65535,l=a.a>>>16;a=a.a&65535;var n,h,m,p;p=0+f*a;m=0+(p>>>16);m+=g*a;h=0+(m>>>16);m=(m&65535)+f*l;h+=m>>>16;m&=65535;h+=d*a;n=0+(h>>>16);h=(h&65535)+g*l;n+=h>>>16;h&=65535;h+=f*k;n+=h>>>16;h&=65535;n=n+(c*a+d*l+g*k+f*e)&65535;return b.fromBits(m<<
16|p&65535,n<<16|h)};b.prototype.div=function(a){if(a.isZero())throw Error("division by zero");if(this.isZero())return b.ZERO;if(this.equals(b.MIN_VALUE)){if(a.equals(b.ONE)||a.equals(b.NEG_ONE))return b.MIN_VALUE;if(a.equals(b.MIN_VALUE))return b.ONE;var c=this.shiftRight(1).div(a).shiftLeft(1);if(c.equals(b.ZERO))return a.isNegative()?b.ONE:b.NEG_ONE;var d=this.subtract(a.multiply(c));return c.add(d.div(a))}if(a.equals(b.MIN_VALUE))return b.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):
this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(var g=b.ZERO,d=this;d.greaterThanOrEqual(a);){for(var c=Math.max(1,Math.floor(d.toNumber()/a.toNumber())),f=Math.ceil(Math.log(c)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),e=b.fromNumber(c),k=e.multiply(a);k.isNegative()||k.greaterThan(d);)c-=f,e=b.fromNumber(c),k=e.multiply(a);e.isZero()&&(e=b.ONE);g=g.add(e);d=d.subtract(k)}return g};b.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))};b.prototype.not=
function(){return b.fromBits(~this.a,~this.b)};b.prototype.and=function(a){return b.fromBits(this.a&a.a,this.b&a.b)};b.prototype.or=function(a){return b.fromBits(this.a|a.a,this.b|a.b)};b.prototype.xor=function(a){return b.fromBits(this.a^a.a,this.b^a.b)};b.prototype.shiftLeft=function(a){a&=63;if(0==a)return this;var c=this.a;return 32>a?b.fromBits(c<<a,this.b<<a|c>>>32-a):b.fromBits(0,c<<a-32)};b.prototype.shiftRight=function(a){a&=63;if(0==a)return this;var c=this.b;return 32>a?b.fromBits(this.a>>>
a|c<<32-a,c>>a):b.fromBits(c>>a-32,0<=c?0:-1)};b.prototype.shiftRightUnsigned=function(a){a&=63;if(0==a)return this;var c=this.b;return 32>a?b.fromBits(this.a>>>a|c<<32-a,c>>>a):32==a?b.fromBits(c,0):b.fromBits(c>>>a-32,0)};"undefined"!=typeof module&&module.exports?module.exports=b:"undefined"!=typeof define&&define.amd?define("Math/Long",[],function(){return b}):(p.dcodeIO||(p.dcodeIO={}),p.dcodeIO.Long=b)})(this);
